# 要件定義書 - AI記事収集Discord通知Bot

## 1. 目的

AI関連の最新記事を自動収集し、Discord チャンネルに通知することで、チーム内でのAI関連情報共有を効率化する。GitHub Actions による定期実行により、継続的な情報収集を実現する。

## 2. 機能要件

### 2.1 必須機能

- [ ] **記事収集機能**
  - AI関連キーワードでの記事検索・収集
  - 複数の情報源からの記事取得（技術ブログ、ニュースサイト、RSS フィード等）
  - 重複記事の除外
  - 記事の関連度評価・フィルタリング

- [ ] **Discord通知機能**
  - 収集した記事のタイトル、概要、URLをDiscordチャンネルに投稿
  - 記事の重要度に応じた通知スタイルの切り替え
  - メンション機能（重要な記事の場合）
  - Discord webhook または bot トークンを使用した投稿

- [ ] **定期実行機能**
  - GitHub Actions による自動実行（日次または週次）
  - 実行スケジュールの設定可能性
  - 実行ログの記録

- [ ] **設定管理機能**
  - 検索キーワードの設定
  - 対象サイト/RSS フィードの設定
  - Discord チャンネル設定
  - 通知頻度・形式の設定

### 2.2 オプション機能

- [ ] 記事のカテゴリ分類（機械学習、LLM、画像生成等）
- [ ] 記事の要約生成（AI による自動要約）
- [ ] 反応（いいね数、コメント数）による人気度判定
- [ ] Web UI での設定変更
- [ ] 過去記事の検索機能

## 3. 非機能要件

### 3.1 パフォーマンス

- 1回の実行時間は10分以内
- API レート制限の遵守
- 大量記事処理時のメモリ効率性

### 3.2 セキュリティ

- API キー・トークンの適切な管理（GitHub Secrets 使用）
- 外部サイトからのデータ取得時のセキュリティ検証
- 不正な URL やコンテンツの除外

### 3.3 保守性

- 設定変更が容易
- ログによる実行状況の把握
- エラーハンドリングの充実

### 3.4 互換性

- Node.js 18+ での動作
- 各種 RSS フィード形式への対応
- Discord API の最新バージョンに対応

## 4. 制約事項

### 4.1 技術的制約

- GitHub Actions の無料枠内での実行（月2,000分）
- 各サイトの利用規約・robots.txt の遵守
- API の利用制限（Discord、各種ニュースAPI）

### 4.2 ビジネス制約

- 著作権・利用規約の遵守
- スパム防止（適切な投稿頻度の維持）
- コスト最小化（無料サービスの活用）

## 5. 成功基準

### 5.1 完了の定義

- [ ] 指定したキーワードでAI関連記事を自動収集できる
- [ ] 収集した記事をDiscordチャンネルに適切な形式で投稿できる
- [ ] GitHub Actions で定期実行が安定動作する
- [ ] 重複記事の除外が機能する
- [ ] エラー時の適切なログ出力とリカバリ機能

### 5.2 受け入れテスト

- 1週間の自動実行で関連記事が適切に通知される
- 手動実行時に期待した動作をする
- エラー発生時に適切な通知が行われる

## 6. 想定されるリスク

- **外部サイトの構造変更**: スクレイピング対象サイトの HTML 構造変更によるデータ取得失敗
  - 対策: 複数の情報源の利用、RSS フィード優先
- **API 制限**: Discord API や外部 API の利用制限到達
  - 対策: レート制限の適切な管理、API キーのローテーション
- **記事品質**: 関連度の低い記事や広告記事の混入
  - 対策: キーワードフィルタリングの精密化、ブラックリスト機能

## 7. 今後の検討事項

## 8. 確定仕様

### 8.1 収集対象サイト
- **Qiita**: AI関連タグの記事収集
- **Zenn**: AI関連トピックの記事収集  
- **Hacker News**: AI/ML関連記事
- **Dev.to**: AI/機械学習タグの記事

### 8.2 実行スケジュール
- **頻度**: 日次実行
- **時刻**: 日本時間 朝9:00（UTC 0:00）

### 8.3 技術スタック
- **言語**: TypeScript
- **ランタイム**: Node.js 18+
- **実行環境**: GitHub Actions

### 8.4 Discord設定
- 既存のDiscordサーバー・チャンネルを使用